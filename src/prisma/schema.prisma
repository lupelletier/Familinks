generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Family {
  id_family Int        @id @default(autoincrement())
  name      String
  code      String?
  createdAt DateTime   @default(now())
  updatedAt DateTime?  @updatedAt
  User      User[]
  Response  Response[]
}

model User {
  id_user   Int        @id @default(autoincrement())
  username  String
  firstname String
  lastname  String
  email     String     @unique
  phone     String?
  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt
  familyId  Int
  family    Family     @relation(fields: [familyId], references: [id_family])
  Response  Response[]
}

model Question {
  id_question Int        @id @default(autoincrement())
  question    String
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
  Response    Response[]
}

model Response {
  id_response Int      @id @default(autoincrement())
  response    String
  id_question Int
  id_user     Int
  id_family   Int
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  Question Question @relation(fields: [id_question], references: [id_question])
  User     User     @relation(fields: [id_user], references: [id_user])
  Family   Family   @relation(fields: [id_family], references: [id_family])
}
